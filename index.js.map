{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getPhotos(query) {\n  const ENDPOINT = 'https://pixabay.com/api/';\n  const API_KEY = '51376542-95e34f1d639dab3c27f4a47b0';\n\n  const queryParams = new URLSearchParams({\n    q: query,\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horisontal',\n    safesearch: true,\n    per_page: 27,\n  });\n\n  return axios.get(`${ENDPOINT}?${queryParams}`);\n}\n","import SimpleLightbox from 'simplelightbox';\n\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst simpleGallery = new SimpleLightbox('.gallery a');\n\nexport function createGallery(images) {\n  const dynamicMarkup = images\n    .map(\n      item =>\n        `<li><a class=\"img-link\" href=\"${item.largeImageURL}\"><img src=\"${item.webformatURL}\" alt=\"${item.tags}\" width=\"360\" height=\"200\"><ul class=\"img-meta\">\n      <li class=\"meta-list-item\"><span class=\"meta-item-title\">Likes</span> ${item.likes}</li>\n      <li class=\"meta-list-item\"><span class=\"meta-item-title\">Views</span> ${item.views}</li>\n      <li class=\"meta-list-item\"><span class=\"meta-item-title\">Comments</span> ${item.comments}</li>\n      <li class=\"meta-list-item\"><span class=\"meta-item-title\">Downloads</span> ${item.downloads}</li>\n      </ul>\n      </a>\n      </li>`\n    )\n    .join('');\n  galleryEl.innerHTML = dynamicMarkup;\n  simpleGallery.refresh();\n}\n\n// Utilities\nexport function clearGallery() {\n  galleryEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  loaderEl.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  loaderEl.classList.add('is-hidden');\n}\n","import iziToast from 'izitoast';\nimport { getPhotos } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\n\n// References\nconst formEl = document.querySelector('.form');\n\n// Handlers\nfunction onSubmit(event) {\n  event.preventDefault();\n  clearGallery();\n  showLoader();\n\n  const searchQuery = event.target.elements['search-text'].value.trim();\n  if (!searchQuery) {\n    return iziToast.error({\n      message: 'Empty request. Try again!',\n      position: 'topRight',\n    });\n  }\n\n  getPhotos(searchQuery)\n    .then(resp => {\n      const respData = resp.data.hits;\n\n      if (respData.length === 0) {\n        return iziToast.error({\n          message:\n            'Sorry there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n\n      createGallery(respData);\n    })\n    .catch(err => console.log(err))\n    .finally(() => hideLoader());\n\n  event.target.reset();\n}\n\n// Event Listeners\nformEl.addEventListener('submit', onSubmit);\n"],"names":["getPhotos","query","ENDPOINT","API_KEY","queryParams","axios","galleryEl","loaderEl","simpleGallery","SimpleLightbox","createGallery","images","dynamicMarkup","item","clearGallery","showLoader","hideLoader","formEl","onSubmit","event","searchQuery","iziToast","resp","respData","err"],"mappings":"owBAEO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAc,IAAI,gBAAgB,CACtC,EAAGH,EACH,IAAKE,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAOE,EAAM,IAAI,GAAGH,CAAQ,IAAIE,CAAW,EAAE,CAC/C,CCdA,MAAME,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAgB,IAAIC,EAAe,YAAY,EAE9C,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAgBD,EACnB,IACCE,GACE,iCAAiCA,EAAK,aAAa,eAAeA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA,8EAChCA,EAAK,KAAK;AAAA,8EACVA,EAAK,KAAK;AAAA,iFACPA,EAAK,QAAQ;AAAA,kFACZA,EAAK,SAAS;AAAA;AAAA;AAAA,YAI3F,EACA,KAAK,EAAE,EACVP,EAAU,UAAYM,EACtBJ,EAAc,QAAO,CACvB,CAGO,SAASM,GAAe,CAC7BR,EAAU,UAAY,EACxB,CAEO,SAASS,GAAa,CAC3BR,EAAS,UAAU,OAAO,WAAW,CACvC,CAEO,SAASS,GAAa,CAC3BT,EAAS,UAAU,IAAI,WAAW,CACpC,CC1BA,MAAMU,EAAS,SAAS,cAAc,OAAO,EAG7C,SAASC,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpBL,IACAC,IAEA,MAAMK,EAAcD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAC/D,GAAI,CAACC,EACH,OAAOC,EAAS,MAAM,CACpB,QAAS,4BACT,SAAU,UAChB,CAAK,EAGHrB,EAAUoB,CAAW,EAClB,KAAKE,GAAQ,CACZ,MAAMC,EAAWD,EAAK,KAAK,KAE3B,GAAIC,EAAS,SAAW,EACtB,OAAOF,EAAS,MAAM,CACpB,QACE,0EACF,SAAU,UACpB,CAAS,EAGHX,EAAca,CAAQ,CAC5B,CAAK,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAMR,EAAU,CAAE,EAE7BG,EAAM,OAAO,OACf,CAGAF,EAAO,iBAAiB,SAAUC,CAAQ"}